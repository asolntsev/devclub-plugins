plugins {
  id 'java'
}

dependencies {
  implementation 'com.codeborne:selenide:6.11.2'
  implementation 'org.liquibase:liquibase-core:4.19.0'
  implementation 'org.postgresql:postgresql:42.5.1'

  testImplementation 'org.junit.jupiter:junit-jupiter-api:5.9.2'
  testImplementation 'org.junit.jupiter:junit-jupiter-engine:5.9.2'
  testImplementation 'org.mockito:mockito-core:5.1.0'
  testImplementation 'org.assertj:assertj-core:3.24.2'

  runtimeOnly 'org.slf4j:slf4j-simple:2.0.6'
}

group = 'eu.devclub'
version = '1.0.0-SNAPSHOT'

defaultTasks 'check'

ext {
  encoding = 'UTF-8'
}
tasks.withType(JavaCompile) {
  options.encoding = encoding
  options.debug = true
  options.release = 17
  sourceCompatibility = 17
}
compileJava.options.debugOptions.debugLevel = "source,lines,vars"

repositories {
  mavenCentral()
}

test {
  include 'eu/devclub/**/*'
}

tasks.withType(Test) {
  useJUnitPlatform()
  systemProperty('file.encoding', encoding)
  jvmArgs = ['-ea', '-Xmx512m']
  systemProperties += System.properties
  systemProperties['user.language'] = 'FR'
}

