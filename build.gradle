plugins {
  id 'java'
}

dependencies {
  implementation 'com.codeborne:selenide:6.7.4'
  implementation 'org.liquibase:liquibase-core:4.15.0'
  implementation 'org.postgresql:postgresql:42.5.0'

  testImplementation 'org.junit.jupiter:junit-jupiter-api:5.9.0'
  testImplementation 'org.junit.jupiter:junit-jupiter-engine:5.9.0'
  testImplementation 'org.mockito:mockito-core:4.7.0'
  testImplementation 'org.assertj:assertj-core:3.23.1'

  runtimeOnly 'org.slf4j:slf4j-simple:2.0.0'
}

group = 'eu.devclub'
version = '1.0.0-SNAPSHOT'

defaultTasks 'check'

ext {
  encoding = 'UTF-8'
}
tasks.withType(JavaCompile) {
  options.encoding = encoding
  options.debug = true
  options.release = 17
  sourceCompatibility = 17
}
compileJava.options.debugOptions.debugLevel = "source,lines,vars"

repositories {
  mavenCentral()
}

test {
  include 'eu/devclub/**/*'
}

tasks.withType(Test) {
  useJUnitPlatform()
  systemProperty('file.encoding', encoding)
  jvmArgs = ['-ea', '-Xmx512m']
  systemProperties += System.properties
  systemProperties['user.language'] = 'FR'
}

