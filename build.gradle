plugins {
  id 'java'
}

ext {
  seleniumVersion = '4.5.0'
  selenideVersion = '6.10.1'
  liquibaseVersion = '4.17.2'
  postgreVersion = '42.5.1'
  junitVersion = '5.9.1'
  mockitoVersion = '4.9.0'
  assertjVersion = '3.23.1'
  slf4jVersion = '2.0.5'
}

dependencies {
  implementation "org.seleniumhq.selenium:selenium-java:$seleniumVersion"
  implementation "com.codeborne:selenide:$selenideVersion"
  implementation "org.liquibase:liquibase-core:$liquibaseVersion"
  implementation "org.postgresql:postgresql:$postgreVersion"

  testImplementation "org.junit.jupiter:junit-jupiter-api:$junitVersion"
  testImplementation "org.junit.jupiter:junit-jupiter-engine:$junitVersion"
  testImplementation "org.mockito:mockito-core:$mockitoVersion"
  testImplementation "org.assertj:assertj-core:$assertjVersion"

  runtimeOnly "org.slf4j:slf4j-simple:$slf4jVersion"
}

group = 'eu.devclub'
version = '1.0.0-SNAPSHOT'

defaultTasks 'check'

ext {
  encoding = 'UTF-8'
}
tasks.withType(JavaCompile) {
  options.encoding = encoding
  options.debug = true
  options.release = 17
  sourceCompatibility = 17
}
compileJava.options.debugOptions.debugLevel = "source,lines,vars"

repositories {
  mavenCentral()
}

test {
  include 'eu/devclub/**/*'
}

tasks.withType(Test) {
  useJUnitPlatform()
  systemProperty('file.encoding', encoding)
  jvmArgs = ['-ea', '-Xmx512m']
  systemProperties += System.properties
  systemProperties['user.language'] = 'FR'
}

